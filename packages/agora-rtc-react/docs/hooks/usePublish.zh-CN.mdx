## usePublish

用于发布本地轨道。当组件准备好时发布，当组件卸载时取消发布。

#### 参数

| 参数名           | 类型                                                                    | 是否必选 | 描述                                                                                                         |
| ---------------- | ----------------------------------------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------ |
| `tracks`         | `(ILocalTrack` &VerticalLine; `null)[]`                                 | 必选     | 本地轨道列表。                                                                                               |
| `readyToPublish` | `boolean`                                                               | 可选     | 是否准备好进行发布。默认为 `true`。                                                                          |
| `client`         | [`IAgoraRTCClient`](/api-ref/rtc/react/interfaces/iagorartcclient.html) | 可选     | 通过 Web SDK 的 [`IAgoraRTC.createClient`](/api-ref/rtc/react/interfaces/iagorartc.html#createclient) 创建。 |

#### 返回值

返回一个包含以下属性的对象：

| 属性        | 类型                                       | 描述                                                                                                                                                             |
| ----------- | ------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `isLoading` | `boolean`                                  | <li>`true`：正在执行发布相关操作。</li><li>`false`：已经执行发布相关操作，但不代表成功发布。</li>                                                                |
| `error`     | `AgoraRTCReactError` &VerticalLine; `null` | 发布成功则返回 `null`，发布失败则抛出错误。错误详见 [`AgoraRTCReactError`](https://doc.shengwang.cn/api-ref/rtc/react/react-sdk/data-types#agorartcreacterror)。 |

#### 使用示例

```jsx
import { useLocalMicrophoneTrack, useLocalCameraTrack, usePublish } from "agora-rtc-react";

function App() {
  // get audioTrack and videoTrack before publish
  const audioTrack = useLocalMicrophoneTrack();
  const videoTrack = useLocalCameraTrack();
  usePublish([audioTrack, videoTrack]);

  return <></>;
}
```
