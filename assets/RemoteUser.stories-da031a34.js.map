{"version":3,"file":"RemoteUser.stories-da031a34.js","sources":["../../../agora-rtc-react-ui/src/components/icons/SVGMicrophone.tsx","../../../agora-rtc-react-ui/src/components/icons/SVGMicrophoneMute.tsx","../../../agora-rtc-react-ui/src/components/icons/SVGCamera.tsx","../../../agora-rtc-react-ui/src/components/icons/SVGCameraMute.tsx","../../../agora-rtc-react-ui/src/components/MicControl.tsx","../../../agora-rtc-react-ui/src/components/CameraControl.tsx","../../src/components/RemoteUser.stories.tsx"],"sourcesContent":["import type { SVGProps } from \"react\";\nimport { useEffect, useState } from \"react\";\n\nconst vHeight = 14;\nconst vWidth = 8;\nconst vBaseX = 8;\nconst vBaseY = 4;\n\nexport interface SVGMicrophoneProps extends SVGProps<SVGSVGElement> {\n  /** 0~1 */\n  volumeLevel?: number;\n  /** 0~1 */\n  noise?: number;\n}\n\nexport function SVGMicrophone({\n  volumeLevel: baseVolumeLevel = 0,\n  noise = 0.075,\n  ...props\n}: SVGMicrophoneProps) {\n  // 0~1\n  const [volumeLevel, setVolumeLevel] = useState(0);\n\n  useEffect(() => {\n    if (baseVolumeLevel && noise) {\n      const safeNoise = Math.max(0, Math.min(1, noise));\n      const ticket = setInterval(() => {\n        setVolumeLevel(\n          baseVolumeLevel + Math.random() * safeNoise * (Math.random() > 0.5 ? 1 : -1),\n        );\n      }, 50);\n      return () => clearInterval(ticket);\n    }\n  }, [baseVolumeLevel, noise]);\n\n  return (\n    <svg\n      fill=\"none\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <defs>\n        <clipPath id=\"icon-mic-v-clip\">\n          <rect height={vHeight} rx={vWidth / 2} width={vWidth} x={vBaseX} y={vBaseY} />\n        </clipPath>\n      </defs>\n      <path d=\"M0 0h24v24H0z\" fill=\"#999CA3\" opacity=\".01\" />\n      <rect\n        clipPath=\"url(#icon-mic-v-clip)\"\n        fill=\"#fff\"\n        height={vHeight}\n        width={vWidth}\n        x={vBaseX}\n        y={vBaseY}\n      />\n      <path\n        d=\"M4 16.625h2v-1.25H4v1.25Zm6 4h4v-1.25h-4v1.25Zm8-4h2v-1.25h-2v1.25Zm-4 4A4.625 4.625 0 0 0 18.625 16h-1.25A3.375 3.375 0 0 1 14 19.375v1.25ZM5.375 16A4.625 4.625 0 0 0 10 20.625v-1.25A3.375 3.375 0 0 1 6.625 16h-1.25Z\"\n        fill=\"#fff\"\n      />\n      <g clipPath=\"url(#icon-mic-v-clip)\">\n        <rect\n          fill=\"#44AD00\"\n          height={vHeight * 2}\n          style={{\n            transform: `translateY(${(1 - volumeLevel) * vHeight}px)`,\n            transition: \"transform .1s\",\n          }}\n          width={vWidth}\n          x={vBaseX}\n          y={vBaseY}\n        />\n      </g>\n    </svg>\n  );\n}\n","import type { SVGProps } from \"react\";\nimport { memo } from \"react\";\n\nexport type SVGMicrophoneMuteProps = SVGProps<SVGSVGElement>;\n\nexport const SVGMicrophoneMute = /* @__PURE__ */ memo<SVGMicrophoneMuteProps>(\n  function SVGMicrophoneMute(props) {\n    return (\n      <svg\n        fill=\"none\"\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n      >\n        <path\n          d=\"m5 5 14 14\"\n          stroke=\"rgb(225, 225, 225, 0.35)\"\n          strokeLinejoin=\"round\"\n          strokeWidth=\"1.25\"\n        />\n        <path\n          clipRule=\"evenodd\"\n          d=\"M19.277 16.625H20v-1.25h-1.973l1.25 1.25Zm-3.239 2.065.89.89a4.602 4.602 0 0 1-2.716 1.04l-.212.005h-4a4.626 4.626 0 0 1-4.55-3.787l-.033-.213H4v-1.25h2c.345 0 .625.28.625.625a3.375 3.375 0 0 0 3.19 3.37l.185.005h4a3.36 3.36 0 0 0 2.038-.685Zm.587-4.717V8a4.625 4.625 0 0 0-8.5-2.526l.911.91a3.374 3.374 0 0 1 6.281.991H14v1.25h1.375v.75H14v1.25h1.375v.75h-1.348l1.25 1.25h.098v.098l1.25 1.25Zm-2.587 2.717.89.89A4.625 4.625 0 0 1 7.375 14v-3.973l1.25 1.25v.098h.098l1.25 1.25H8.625V14a3.375 3.375 0 0 0 5.413 2.69Z\"\n          fill=\"rgb(225, 225, 225, 0.35)\"\n          fillRule=\"evenodd\"\n        />\n      </svg>\n    );\n  },\n);\n","import type { SVGProps } from \"react\";\nimport { memo } from \"react\";\n\nexport type SVGCameraProps = SVGProps<SVGSVGElement>;\n\nexport const SVGCamera = /* @__PURE__ */ memo<SVGCameraProps>(function SVGCamera(props) {\n  return (\n    <svg\n      fill=\"none\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <circle cx=\"12\" cy=\"11\" r=\"7\" stroke=\"#fff\" strokeLinejoin=\"round\" strokeWidth=\"1.25\" />\n      <circle cx=\"12\" cy=\"11\" r=\"3\" stroke=\"#fff\" strokeLinejoin=\"round\" strokeWidth=\"1.25\" />\n      <circle cx=\"14.625\" cy=\"6.625\" fill=\"#fff\" r=\".625\" />\n      <path\n        d=\"M7 18.25a8.004 8.004 0 0 0 10 0\"\n        stroke=\"#fff\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.25\"\n      />\n    </svg>\n  );\n});\n","import type { SVGProps } from \"react\";\nimport { memo } from \"react\";\n\nexport type SVGCameraMuteProps = SVGProps<SVGSVGElement>;\n\nexport const SVGCameraMute = /* @__PURE__ */ memo<SVGCameraMuteProps>(function SVGCameraMute(\n  props,\n) {\n  return (\n    <svg\n      fill=\"none\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      width=\"24\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        d=\"m5 5 14 14\"\n        stroke=\"rgb(225, 225, 225, 0.35)\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.25\"\n      />\n      <path\n        clipRule=\"evenodd\"\n        d=\"m15.72 18.373.91.909a8.63 8.63 0 0 1-9.788-.364l-.232-.18.78-.976a7.38 7.38 0 0 0 8.33.61Zm2.434-2.87A7.625 7.625 0 0 0 7.497 4.846l.897.896a6.375 6.375 0 0 1 8.864 8.864l.896.897Zm-3.857 1.446.952.951A7.625 7.625 0 0 1 5.1 7.751l.951.952a6.375 6.375 0 0 0 8.246 8.246Zm.956-4.348a3.625 3.625 0 0 0-4.854-4.854l.964.964a2.378 2.378 0 0 1 2.926 2.926l.964.964Zm-.628-5.351a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25Z\"\n        fill=\"rgb(225, 225, 225, 0.35)\"\n        fillRule=\"evenodd\"\n      />\n    </svg>\n  );\n});\n","import \"./UserControl.css\";\n\nimport { useVolumeLevel } from \"agora-rtc-react\";\nimport type { ILocalAudioTrack, IRemoteAudioTrack } from \"agora-rtc-sdk-ng\";\nimport type { ButtonHTMLAttributes, MouseEvent } from \"react\";\nimport { useCallback } from \"react\";\n\nimport { SVGMicrophone } from \"./icons/SVGMicrophone\";\nimport { SVGMicrophoneMute } from \"./icons/SVGMicrophoneMute\";\n\nexport interface MicControlProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Audio track to subscribe volume level.\n   */\n  audioTrack?: ILocalAudioTrack | IRemoteAudioTrack;\n  /**\n   * Microphone is on.\n   */\n  micOn?: boolean;\n  /**\n   * Callback when microphone is on/off.\n   */\n  onMicChange?: (micOn: boolean) => void;\n  /**\n   * Add noise to volume level for a more organic effect.\n   */\n  noise?: number;\n}\n\n/**\n * A button with microphone icon.\n * Display realtime volume level when `audioTrack` is provided.\n */\nexport function MicControl({\n  noise,\n  audioTrack,\n  micOn,\n  onMicChange,\n  onClick,\n  className = \"\",\n  ...props\n}: MicControlProps) {\n  const volumeLevel = useVolumeLevel(audioTrack);\n\n  const handleClick = useCallback(\n    (evt: MouseEvent<HTMLButtonElement, globalThis.MouseEvent>) => {\n      onMicChange?.(!micOn);\n      onClick?.(evt);\n    },\n    [onMicChange, onClick, micOn],\n  );\n\n  return (\n    <button {...props} className={`arr-user-control ${className}`} onClick={handleClick}>\n      {micOn ? <SVGMicrophone noise={noise} volumeLevel={volumeLevel} /> : <SVGMicrophoneMute />}\n    </button>\n  );\n}\n","import \"./UserControl.css\";\n\nimport type { ButtonHTMLAttributes, MouseEvent } from \"react\";\nimport { useCallback } from \"react\";\n\nimport { SVGCamera } from \"./icons/SVGCamera\";\nimport { SVGCameraMute } from \"./icons/SVGCameraMute\";\n\nexport interface CameraControlProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Camera is on.\n   */\n  cameraOn?: boolean;\n  /**\n   * Callback when camera is on/off.\n   */\n  onCameraChange?: (cameraOn: boolean) => void;\n}\n\n/**\n * A button with camera icon.\n */\nexport function CameraControl({\n  cameraOn,\n  onCameraChange,\n  onClick,\n  className = \"\",\n  ...props\n}: CameraControlProps) {\n  const handleClick = useCallback(\n    (evt: MouseEvent<HTMLButtonElement, globalThis.MouseEvent>) => {\n      onCameraChange?.(!cameraOn);\n      onClick?.(evt);\n    },\n    [onCameraChange, onClick, cameraOn],\n  );\n\n  return (\n    <button {...props} className={`arr-user-control ${className}`} onClick={handleClick}>\n      {cameraOn ? <SVGCamera /> : <SVGCameraMute />}\n    </button>\n  );\n}\n","import { randFirstName, randNumber, randUuid } from \"@ngneat/falso\";\nimport { useArgs } from \"@storybook/preview-api\";\nimport type { Meta, StoryObj } from \"@storybook/react\";\nimport { CameraControl, MicControl } from \"agora-rtc-react-ui\";\nimport type { IAgoraRTCRemoteUser } from \"agora-rtc-sdk-ng\";\nimport { FakeRTCClient } from \"fake-agora-rtc\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { AgoraRTCProvider } from \"../hooks/context\";\nimport { interval } from \"../utils\";\nimport type { RemoteUserProps } from \"./RemoteUser\";\nimport { RemoteUser } from \"./RemoteUser\";\nconst meta: Meta<RemoteUserProps> = {\n  title: \"User/RemoteUser\",\n  component: RemoteUser,\n  tags: [\"autodocs\"],\n  argTypes: {\n    user: {\n      control: {\n        type: null\n      }\n    }\n  },\n  parameters: {\n    backgrounds: {\n      default: \"light\"\n    }\n  },\n  decorators: [(Story, context) => {\n    const audioTrack = context.args.user?.audioTrack;\n    useEffect(() => {\n      if (audioTrack) {\n        return interval(() => {\n          audioTrack.setVolume(randNumber({\n            min: 0,\n            max: 100\n          }));\n        }, 2000);\n      }\n    }, [audioTrack]);\n    const [client] = useState(() => FakeRTCClient.create());\n    return <AgoraRTCProvider client={client}>{Story()}</AgoraRTCProvider>;\n  }]\n};\nexport default meta;\nfunction RenderRemoteUser(args: RemoteUserProps) {\n  const {\n    user\n  } = args;\n  const [_user] = useState<IAgoraRTCRemoteUser | undefined>(() => user && {\n    ...user\n  });\n  return <RemoteUser {...args} user={_user} />;\n}\nexport const Overview: StoryObj<RemoteUserProps> = {\n  args: {\n    playVideo: true,\n    playAudio: false,\n    user: {\n      uid: randUuid(),\n      hasVideo: true,\n      hasAudio: true\n    },\n    style: {\n      width: 288,\n      height: 216\n    }\n  },\n  render: RenderRemoteUser\n};\nexport const WithCover: StoryObj<RemoteUserProps> = {\n  parameters: {\n    docs: {\n      description: {\n        story: \"Show cover image if `playVideo` is `false`.\"\n      }\n    }\n  },\n  args: {\n    user: {\n      uid: randUuid(),\n      hasVideo: true,\n      hasAudio: true\n    },\n    playVideo: false,\n    playAudio: false,\n    cover: \"https://www.agora.io/en/wp-content/uploads/2022/10/3d-spatial-audio-icon.svg\",\n    style: {\n      width: 288,\n      height: 216\n    }\n  },\n  render: RenderRemoteUser\n};\nexport const WithControls: StoryObj<RemoteUserProps> = {\n  parameters: {\n    docs: {\n      description: {\n        story: \"Add buttons to control the video and audio track. Navigate to the story on the right sidebar and paly with it.\"\n      }\n    }\n  },\n  args: {\n    user: {\n      uid: randUuid(),\n      hasVideo: true,\n      hasAudio: true\n    },\n    playVideo: true,\n    playAudio: false,\n    style: {\n      borderRadius: 8,\n      width: 288,\n      height: 216\n    },\n    cover: \"https://www.agora.io/en/wp-content/uploads/2022/10/3d-spatial-audio-icon.svg\"\n  },\n  render: function WithControls(args) {\n    const [user] = useState<IAgoraRTCRemoteUser | undefined>(() => args.user && {\n      ...args.user\n    });\n    const [userName] = useState(randFirstName());\n    const [, updateArgs] = useArgs();\n    const setVideo = useCallback((playVideo: boolean): void => {\n      updateArgs({\n        playVideo\n      });\n    }, [updateArgs]);\n    const setAudio = useCallback((playAudio: boolean): void => {\n      updateArgs({\n        playAudio\n      });\n    }, [updateArgs]);\n    return <RemoteUser {...args} user={user}>\n        <div style={{\n        display: \"flex\",\n        alignItems: \"flex-end\",\n        boxSizing: \"border-box\",\n        position: \"absolute\",\n        left: 0,\n        bottom: 0,\n        width: \"100%\",\n        padding: \"4px 4px 4px 8px\",\n        color: \"#fff\"\n      }}>\n          <span style={{\n          userSelect: \"none\"\n        }}>{userName}</span>\n          <CameraControl cameraOn={args.playVideo} onCameraChange={setVideo} style={{\n          margin: \"0 10px 0 auto\"\n        }} />\n          <MicControl audioTrack={user?.audioTrack} micOn={args.playAudio} onMicChange={setAudio} />\n        </div>\n      </RemoteUser>;\n  }\n};\nOverview.parameters = {\n  ...Overview.parameters,\n  docs: {\n    ...Overview.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    playVideo: true,\\n    playAudio: false,\\n    user: {\\n      uid: randUuid(),\\n      hasVideo: true,\\n      hasAudio: true\\n    },\\n    style: {\\n      width: 288,\\n      height: 216\\n    }\\n  },\\n  render: RenderRemoteUser\\n}\",\n      ...Overview.parameters?.docs?.source\n    }\n  }\n};\nWithCover.parameters = {\n  ...WithCover.parameters,\n  docs: {\n    ...WithCover.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  parameters: {\\n    docs: {\\n      description: {\\n        story: \\\"Show cover image if `playVideo` is `false`.\\\"\\n      }\\n    }\\n  },\\n  args: {\\n    user: {\\n      uid: randUuid(),\\n      hasVideo: true,\\n      hasAudio: true\\n    },\\n    playVideo: false,\\n    playAudio: false,\\n    cover: \\\"https://www.agora.io/en/wp-content/uploads/2022/10/3d-spatial-audio-icon.svg\\\",\\n    style: {\\n      width: 288,\\n      height: 216\\n    }\\n  },\\n  render: RenderRemoteUser\\n}\",\n      ...WithCover.parameters?.docs?.source\n    }\n  }\n};\nWithControls.parameters = {\n  ...WithControls.parameters,\n  docs: {\n    ...WithControls.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  parameters: {\\n    docs: {\\n      description: {\\n        story: \\\"Add buttons to control the video and audio track. Navigate to the story on the right sidebar and paly with it.\\\"\\n      }\\n    }\\n  },\\n  args: {\\n    user: {\\n      uid: randUuid(),\\n      hasVideo: true,\\n      hasAudio: true\\n    },\\n    playVideo: true,\\n    playAudio: false,\\n    style: {\\n      borderRadius: 8,\\n      width: 288,\\n      height: 216\\n    },\\n    cover: \\\"https://www.agora.io/en/wp-content/uploads/2022/10/3d-spatial-audio-icon.svg\\\"\\n  },\\n  render: function WithControls(args) {\\n    const [user] = useState<IAgoraRTCRemoteUser | undefined>(() => args.user && {\\n      ...args.user\\n    });\\n    const [userName] = useState(randFirstName());\\n    const [, updateArgs] = useArgs();\\n    const setVideo = useCallback((playVideo: boolean): void => {\\n      updateArgs({\\n        playVideo\\n      });\\n    }, [updateArgs]);\\n    const setAudio = useCallback((playAudio: boolean): void => {\\n      updateArgs({\\n        playAudio\\n      });\\n    }, [updateArgs]);\\n    return <RemoteUser {...args} user={user}>\\n        <div style={{\\n        display: \\\"flex\\\",\\n        alignItems: \\\"flex-end\\\",\\n        boxSizing: \\\"border-box\\\",\\n        position: \\\"absolute\\\",\\n        left: 0,\\n        bottom: 0,\\n        width: \\\"100%\\\",\\n        padding: \\\"4px 4px 4px 8px\\\",\\n        color: \\\"#fff\\\"\\n      }}>\\n          <span style={{\\n          userSelect: \\\"none\\\"\\n        }}>{userName}</span>\\n          <CameraControl cameraOn={args.playVideo} onCameraChange={setVideo} style={{\\n          margin: \\\"0 10px 0 auto\\\"\\n        }} />\\n          <MicControl audioTrack={user?.audioTrack} micOn={args.playAudio} onMicChange={setAudio} />\\n        </div>\\n      </RemoteUser>;\\n  }\\n}\",\n      ...WithControls.parameters?.docs?.source\n    }\n  }\n};"],"names":["vHeight","vWidth","vBaseX","vBaseY","SVGMicrophone","baseVolumeLevel","noise","props","volumeLevel","setVolumeLevel","useState","useEffect","safeNoise","ticket","jsxs","jsx","SVGMicrophoneMute","memo","SVGCamera","SVGCameraMute","MicControl","audioTrack","micOn","onMicChange","onClick","className","useVolumeLevel","handleClick","useCallback","evt","CameraControl","cameraOn","onCameraChange","useArgs","meta","RemoteUser","Story","context","_a","interval","randNumber","client","FakeRTCClient","AgoraRTCProvider","RenderRemoteUser","args","user","_user","Overview","randUuid","WithCover","WithControls","userName","randFirstName","updateArgs","setVideo","playVideo","setAudio","playAudio","_c","_b"],"mappings":"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"}