{"version":3,"file":"CameraVideoTrack-49f6d3f0.js","sources":["../../src/components/CameraVideoTrack.tsx"],"sourcesContent":["import type { ICameraVideoTrack } from \"agora-rtc-sdk-ng\";\nimport { useEffect } from \"react\";\n\nimport { useAwaited } from \"../hooks\";\nimport type { MaybePromiseOrNull } from \"../utils\";\n\nimport type { LocalVideoTrackProps } from \"./LocalVideoTrack\";\nimport { LocalVideoTrack } from \"./LocalVideoTrack\";\n\nexport interface CameraVideoTrackProps extends LocalVideoTrackProps {\n  /**\n   * A camera video track which can be created by `createCameraVideoTrack()`.\n   */\n  readonly track?: MaybePromiseOrNull<ICameraVideoTrack>;\n  /**\n   * Device ID, which can be retrieved by calling `getDevices()`.\n   */\n  readonly deviceId?: string;\n}\n\n/**\n * A component which renders a camera video track, with device options.\n *\n * ```jsx\n * const track = useMemo(() => AgoraRTC.createCameraVideoTrack(), [])\n * return <CameraVideoTrack track={track} play />\n * ```\n */\nexport function CameraVideoTrack({ track: maybeTrack, deviceId, ...props }: CameraVideoTrackProps) {\n  const track = useAwaited(maybeTrack);\n\n  useEffect(() => {\n    if (track && deviceId != null) {\n      track.setDevice(deviceId).catch(console.warn);\n    }\n  }, [deviceId, track]);\n\n  return <LocalVideoTrack track={maybeTrack} {...props} />;\n}\n"],"names":["CameraVideoTrack","maybeTrack","deviceId","props","track","useAwaited","useEffect","jsx","LocalVideoTrack"],"mappings":"wLA4BA,SAAAA,EAAA,CAAA,MAAAC,EAAA,SAAAC,EAAA,GAAAC,GAAA,CACA,MAAAC,EAAAC,EAAAJ,CAAA,EAEAK,OAAAA,EAAAA,UAAA,IAAA,CACAF,GAAAF,GAAA,MACAE,EAAA,UAAAF,CAAA,EAAA,MAAA,QAAA,IAAA,CACA,EACA,CAAAA,EAAAE,CAAA,CAAA,EAEAG,EAAAC,EAAA,CAAA,MAAAP,EAAA,GAAAE,CAAA,CAAA,CACA;;"}