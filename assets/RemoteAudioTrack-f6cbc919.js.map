{"version":3,"file":"RemoteAudioTrack-f6cbc919.js","sources":["../../src/components/RemoteAudioTrack.tsx"],"sourcesContent":["import type { IRemoteAudioTrack } from \"agora-rtc-sdk-ng\";\nimport type { ReactNode } from \"react\";\nimport { useEffect } from \"react\";\n\nimport type { Nullable } from \"../utils\";\n\nimport { useAutoPlayAudioTrack } from \"./TrackBoundary\";\n\nexport interface RemoteAudioTrackProps {\n  /**\n   * A remote audio track.\n   */\n  readonly track?: Nullable<IRemoteAudioTrack>;\n  /**\n   * Whether to play the track.\n   */\n  readonly play?: boolean;\n  /**\n   * Device ID, which can be retrieved by calling `getPlaybackDevices`.\n   *\n   * Changes of the ID will invoke `setPlaybackDevice` which sets the audio playback device, for example, the speaker.\n   *\n   * > `setPlaybackDevice` supports Chrome on desktop devices only. Other browsers throw a `NOT_SUPPORTED` error when calling the method.\n   */\n  readonly playbackDeviceId?: string;\n  /**\n   * The volume. The value ranges from 0 (mute) to 1000 (maximum). A value of 100 is the current volume.\n   */\n  readonly volume?: number;\n\n  readonly children?: ReactNode;\n}\n\n/**\n * A component which plays a remote audio track.\n */\nexport function RemoteAudioTrack({\n  track,\n  play = false,\n  playbackDeviceId,\n  volume,\n  children,\n}: RemoteAudioTrackProps) {\n  useAutoPlayAudioTrack(track, play);\n\n  useEffect(() => {\n    if (track && playbackDeviceId != null) {\n      track.setPlaybackDevice(playbackDeviceId).catch(console.warn);\n    }\n  }, [track, playbackDeviceId]);\n\n  useEffect(() => {\n    if (track && volume != null) {\n      track.setVolume(volume);\n    }\n  }, [track, volume]);\n\n  return children ? <>{children}</> : null;\n}\n"],"names":["RemoteAudioTrack","track","play","playbackDeviceId","volume","children","useAutoPlayAudioTrack","useEffect","jsx","Fragment"],"mappings":"wIAoCA,SAAAA,EAAA,CACA,MAAAC,EACA,KAAAC,EAAA,GACA,iBAAAC,EACA,OAAAC,EACA,SAAAC,CACA,EAAA,CACA,OAAAC,EAAAL,EAAAC,CAAA,EAEAK,EAAAA,UAAA,IAAA,CACAN,GAAAE,GAAA,MACAF,EAAA,kBAAAE,CAAA,EAAA,MAAA,QAAA,IAAA,CACA,EACA,CAAAF,EAAAE,CAAA,CAAA,EAEAI,EAAAA,UAAA,IAAA,CACAN,GAAAG,GAAA,MACAH,EAAA,UAAAG,CAAA,CACA,EACA,CAAAH,EAAAG,CAAA,CAAA,EAEAC,EAAAG,EAAAC,EAAA,CAAA,SAAAJ,CAAA,CAAA,EAAA,IACA"}