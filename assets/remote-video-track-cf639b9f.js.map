{"version":3,"file":"remote-video-track-cf639b9f.js","sources":["../../../../node_modules/.pnpm/@agoraio-extensions+agora-rtc-sdk-ng-fake@https+++codeload.github.com+AgoraIO-Extensions+agor_4ipwkzf26pg57ngg64nj7kljyq/node_modules/@agoraio-extensions/agora-rtc-sdk-ng-fake/src/tracks/remote-video-track.ts"],"sourcesContent":["import type { IRemoteVideoTrack, VideoPlayerConfig } from \"agora-rtc-sdk-ng\";\n\nimport ipadMp4 from \"../../assets/ipad-2988.mp4\";\nimport { hideProperties } from \"../utils\";\n\nimport type { FakeRemoteTrackProps } from \"./remote-track\";\nimport { FakeRemoteTrack } from \"./remote-track\";\n\nexport interface FakeRemoteVideoTrackProps extends Omit<FakeRemoteTrackProps, \"trackMediaType\"> {\n  videoURI?: string;\n}\n\nexport class FakeRemoteVideoTrack extends FakeRemoteTrack {\n  public static override create(props?: FakeRemoteVideoTrackProps): IRemoteVideoTrack {\n    return new FakeRemoteVideoTrack(props) as unknown as IRemoteVideoTrack;\n  }\n\n  private readonly _videoURI: string;\n\n  protected constructor({ videoURI = ipadMp4, ...props }: FakeRemoteVideoTrackProps = {}) {\n    super({ ...props, trackMediaType: \"video\" });\n\n    this._videoURI = videoURI;\n\n    hideProperties(this, \"_config\", \"_videoEl\", \"_videoURI\");\n  }\n  /**\n   * Plays a remote video track on the web page.\n   *\n   * @param element Specifies a DOM element. The SDK will create a `<video>` element under the specified DOM element to play the video track. You can specify a DOM element in either of following ways:\n   * - `string`: Specify the ID of the DOM element.\n   * - `HTMLElement`: Pass a DOM object.\n   * @param config Sets the playback configurations, such as display mode and mirror mode. See [[VideoPlayerConfig]]. By default, the SDK enables mirror mode for a local video track.\n   */\n  public override play(element: string | HTMLElement, config?: VideoPlayerConfig): void {\n    this._config = config;\n\n    const container = typeof element === \"string\" ? document.getElementById(element) : element;\n\n    if (!this._videoEl) {\n      this._videoEl = document.createElement(\"video\");\n      this._videoEl.style.width = \"100%\";\n      this._videoEl.style.height = \"100%\";\n      this._videoEl.style.objectFit = \"cover\";\n      this._videoEl.loop = true;\n      this._videoEl.muted = true;\n    }\n\n    this._videoEl.src = this._videoURI;\n    this._videoEl.style.opacity = \"1\";\n\n    if (container) {\n      container.appendChild(this._videoEl);\n    }\n\n    if (this._videoEl) {\n      this.isPlaying = true;\n      this._videoEl.play().catch(console.log);\n    }\n  }\n\n  /**\n   * Stops playing the media track.\n   */\n  public override stop(): void {\n    if (this.isPlaying && this._videoEl) {\n      this.isPlaying = false;\n      this._videoEl.style.opacity = \"0\";\n      this._videoEl.pause();\n    }\n  }\n\n  protected _config?: VideoPlayerConfig;\n  protected _videoEl?: HTMLVideoElement;\n}\n"],"names":["FakeRemoteVideoTrack","FakeRemoteTrack","videoURI","ipadMp4","props","hideProperties","element","config","container"],"mappings":"wIAYO,MAAMA,UAA6BC,CAAgB,CAO9C,YAAY,CAAE,SAAAC,EAAWC,EAAS,GAAGC,CAAM,EAA+B,CAAA,EAAI,CACtF,MAAM,CAAE,GAAGA,EAAO,eAAgB,OAAS,CAAA,EAE3C,KAAK,UAAYF,EAEFG,EAAA,KAAM,UAAW,WAAY,WAAW,CACzD,CAZA,OAAuB,OAAOD,EAAsD,CAC3E,OAAA,IAAIJ,EAAqBI,CAAK,CACvC,CAmBgB,KAAKE,EAA+BC,EAAkC,CACpF,KAAK,QAAUA,EAEf,MAAMC,EAAY,OAAOF,GAAY,SAAW,SAAS,eAAeA,CAAO,EAAIA,EAE9E,KAAK,WACH,KAAA,SAAW,SAAS,cAAc,OAAO,EACzC,KAAA,SAAS,MAAM,MAAQ,OACvB,KAAA,SAAS,MAAM,OAAS,OACxB,KAAA,SAAS,MAAM,UAAY,QAChC,KAAK,SAAS,KAAO,GACrB,KAAK,SAAS,MAAQ,IAGnB,KAAA,SAAS,IAAM,KAAK,UACpB,KAAA,SAAS,MAAM,QAAU,IAE1BE,GACQA,EAAA,YAAY,KAAK,QAAQ,EAGjC,KAAK,WACP,KAAK,UAAY,GACjB,KAAK,SAAS,KAAA,EAAO,MAAM,QAAQ,GAAG,EAE1C,CAKgB,MAAa,CACvB,KAAK,WAAa,KAAK,WACzB,KAAK,UAAY,GACZ,KAAA,SAAS,MAAM,QAAU,IAC9B,KAAK,SAAS,QAElB,CAIF","x_google_ignoreList":[0]}