{"version":3,"file":"LocalUser.stories-39b051d0.js","sources":["../../src/components/LocalUser.tsx"],"sourcesContent":["import type { ILocalAudioTrack, ILocalVideoTrack } from \"agora-rtc-sdk-ng\";\nimport type { HTMLProps, ReactNode } from \"react\";\n\nimport { FloatBoxStyle, VideoTrackWrapperStyle, useMergedStyle } from \"../assets/styles\";\nimport type { MaybePromiseOrNull } from \"../misc/utils\";\n\nimport { LocalAudioTrack } from \"./LocalAudioTrack\";\nimport { LocalVideoTrack } from \"./LocalVideoTrack\";\nimport { UserCover } from \"./UserCover\";\n\nexport interface LocalUserProps extends HTMLProps<HTMLDivElement> {\n  /**\n   * `true`：打开本地用户的麦克风。`false`：关闭本地用户的麦克风。\n   */\n  readonly micOn?: boolean;\n\n  /**\n   * `true`：打开本地用户的摄像头。`false`：关闭本地用户的摄像头。\n   */\n  readonly cameraOn?: boolean;\n\n  /**\n   * 要播放的麦克风音频轨道。通过 [useLocalMicrophoneTrack](./hooks#uselocalmicrophonetrack) 创建。\n   */\n  readonly audioTrack?: MaybePromiseOrNull<ILocalAudioTrack>;\n\n  /**\n   * 要播放的摄像头视频轨道。通过 [useLocalCameraTrack](./hooks#uselocalcameratrack) 创建。\n   */\n  readonly videoTrack?: MaybePromiseOrNull<ILocalVideoTrack>;\n\n  /**\n   * `true`：播放本地用户的音频轨道。`false`：停止播放本地用户的音频轨道。\n   */\n  readonly playAudio?: boolean;\n\n  /**\n   * `true`：播放本地用户的视频轨道。`false`：停止播放本地用户的视频轨道。\n   */\n  readonly playVideo?: boolean;\n\n  /**\n   * 音量大小。取值范围 [0, 1000]，0 代表静音，100 代表原始音量。100 以上会使用 [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API) 进行音量增益。\n   */\n  readonly volume?: number;\n\n  /**\n   * 当 `playVideo` 为 `false`时要渲染的封面图片，用于替代视频画面显示。支持传入在线图片的 URL 或本地图片的相对路径。\n   */\n  readonly cover?: string;\n\n  /**\n   * 需要展示的 React 节点。\n   */\n  readonly children?: ReactNode;\n}\n\n/**\n * 该组件用于播放本地用户的摄像头视频轨道和麦克风音频轨道（不支持指定使用的媒体设备）。\n */\nexport function LocalUser({\n  micOn,\n  cameraOn,\n  audioTrack,\n  videoTrack,\n  playAudio,\n  playVideo,\n  volume,\n  cover,\n  children,\n  style,\n  ...props\n}: LocalUserProps) {\n  const mergedStyle = useMergedStyle(VideoTrackWrapperStyle, style);\n  playVideo = playVideo ?? !!cameraOn;\n  playAudio = playAudio ?? !!micOn;\n  return (\n    <div {...props} style={mergedStyle}>\n      <LocalVideoTrack disabled={!cameraOn} play={playVideo} track={videoTrack} />\n      <LocalAudioTrack disabled={!micOn} play={playAudio} track={audioTrack} volume={volume} />\n      {cover && !cameraOn && <UserCover cover={cover} />}\n      <div style={FloatBoxStyle}>{children}</div>\n    </div>\n  );\n}\n"],"names":["LocalUser","micOn","cameraOn","audioTrack","videoTrack","playAudio","playVideo","volume","cover","children","style","props","mergedStyle","useMergedStyle","VideoTrackWrapperStyle","jsxs","jsx","LocalVideoTrack","LocalAudioTrack","UserCover","FloatBoxStyle"],"mappings":"kjBA4DA,SAAAA,EAAA,CACA,MAAAC,EACA,SAAAC,EACA,WAAAC,EACA,WAAAC,EACA,UAAAC,EACA,UAAAC,EACA,OAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,GAAAC,CACA,EAAA,CACA,MAAAC,EAAAC,EAAAC,EAAAJ,CAAA,EACA,OAAAJ,EAAAA,GAAA,CAAA,CAAAJ,EACAG,EAAAA,GAAA,CAAA,CAAAJ,EAEAc,EAAAA,KAAA,MAAA,CAAA,GAAAJ,EAAA,MAAAC,EACA,SAAA,CAAAI,MAAAC,GAAA,SAAA,CAAAf,EAAA,KAAAI,EAAA,MAAAF,EAAA,EACAY,EAAAA,IAAAE,GAAA,SAAA,CAAAjB,EAAA,KAAAI,EAAA,MAAAF,EAAA,OAAAI,EAAA,EACAC,GAAA,CAAAN,GAAAc,EAAAA,IAAAG,GAAA,MAAAX,CAAA,CAAA,EACAQ,EAAAA,IAAA,MAAA,CAAA,MAAAI,EAAA,SAAAX,CAAA,CAAA,CACA,CAAA,CAAA,CAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}