{"version":3,"file":"local-track-3afbd068.js","sources":["../../../../node_modules/.pnpm/@agoraio-extensions+agora-rtc-sdk-ng-fake@https+++codeload.github.com+AgoraIO-Extensions+agor_4ipwkzf26pg57ngg64nj7kljyq/node_modules/@agoraio-extensions/agora-rtc-sdk-ng-fake/src/tracks/local-track.ts"],"sourcesContent":["import { randProductDescription } from \"@ngneat/falso\";\nimport type { ILocalTrack, LocalAudioTrackStats, LocalVideoTrackStats } from \"agora-rtc-sdk-ng\";\n\nimport { hideProperties } from \"../utils\";\n\nimport type { FakeTrackProps } from \"./track\";\nimport { FakeTrack } from \"./track\";\n\nexport interface FakeLocalTrackProps extends FakeTrackProps {\n  /** track label */\n  label?: string;\n  enabled?: boolean;\n  muted?: boolean;\n}\n\nexport class FakeLocalTrack extends FakeTrack {\n  public static override create(props?: FakeLocalTrackProps): ILocalTrack {\n    return new FakeLocalTrack(props) as unknown as ILocalTrack;\n  }\n\n  protected _label: string;\n\n  protected constructor({\n    label = randProductDescription(),\n    enabled = true,\n    muted = false,\n    ...trackProps\n  }: FakeLocalTrackProps = {}) {\n    super(trackProps);\n    this._label = label;\n    this.enabled = enabled;\n    this.muted = muted;\n\n    hideProperties(this, \"_label\");\n  }\n  /**\n   * **Since**\n   * <br>&emsp;&emsp;&emsp;*4.0.0*\n   *\n   * Enables/Disables the track.\n   *\n   * After a track is disabled, the SDK stops playing and publishing the track.\n   *\n   * > - Disabling a track does not trigger the [LocalTrack.on(\"track-ended\")]{@link event_track_ended} event.\n   * > - If a track is published, disabling this track triggers the [user-unpublished]{@link IAgoraRTCClient.event_user_unpublished} event on the remote client, and re-enabling this track triggers the [user-published]{@link IAgoraRTCClient.event_user_published} event.\n   * > - Do not call `setEnabled` and `setMuted` together.\n   *\n   * @param enabled Whether to enable the track:\n   * - `true`: Enable the track.\n   * - `false`: Disable the track.\n   */\n  public async setEnabled(enabled: boolean): Promise<void> {\n    if (enabled !== this.enabled) {\n      this.enabled = enabled;\n      if (enabled) {\n        this.play();\n      } else {\n        this.stop();\n      }\n    }\n  }\n  /**\n   * **DEPRECATED** from v4.1.0. Use [AgoraRTCClient.getLocalVideoStats]{@link IAgoraRTCClient.getLocalVideoStats} and [AgoraRTCClient.getLocalAudioStats]{@link IAgoraRTCClient.getLocalAudioStats} instead.\n   *\n   * Gets the statistics of a local track.\n   *\n   * > Note: When getting the statistics of a local video track, you cannot get the `encodeDelay` property on iOS.\n   */\n  public getStats(): LocalVideoTrackStats | LocalAudioTrackStats {\n    throw new Error(\"Method not implemented.\");\n  }\n  /**\n   * Gets the label of a local track.\n   *\n   * @return The label that the SDK returns may include:\n   * - The [MediaDeviceInfo.label](https://developer.mozilla.org/en-US/docs/Web/API/MediaDeviceInfo/label) property, if the track is created by calling `createMicrophoneAudioTrack` or `createCameraVideoTrack`.\n   * - The `sourceId` property, if the track is created by calling `createScreenVideoTrack`.\n   * - The [MediaStreamTrack.label](https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack/label) property, if the track is created by calling `createCustomAudioTrack` or `createCustomVideoTrack`.\n   */\n  public getTrackLabel(): string {\n    return this._label;\n  }\n  /**\n   * Sends or stops sending the media data of the track.\n   *\n   * **Since**\n   * <br>&emsp;&emsp;&emsp;*4.6.0*\n   *\n   * If the track is published, a successful call of `setMuted(true)` triggers the [user-unpublished]{@link IAgoraRTCClient.event_user_unpublished} event on the remote client, and a successful call of `setMuted(false)` triggers the [user-published]{@link IAgoraRTCClient.event_user_published} event.\n   *\n   * > - Calling `setMuted(true)` does not stop capturing audio or video and takes shorter time to take effect than [[setEnabled]]. For details, see [What are the differences between setEnabled and setMuted?](https://docs.agora.io/en/Interactive%20Broadcast/faq/differences_between_setenabled_and_setmuted).\n   * > - Do not call `setEnabled` and `setMuted` together.\n   *\n   * @param muted Whether to stop sending the media data of the track:\n   * - `true`: Stop sending the media data of the track.\n   * - `false`: Resume sending the media data of the track.\n   */\n  public async setMuted(muted: boolean): Promise<void> {\n    this.muted = muted;\n  }\n  /**\n   * Closes a local track and releases the audio and video resources that it occupies.\n   *\n   * Once you close a local track, you can no longer reuse it.\n   */\n  public close(): void {\n    this.stop();\n  }\n\n  public muted: boolean;\n\n  public enabled: boolean;\n}\n"],"names":["FakeLocalTrack","FakeTrack","label","randProductDescription","enabled","muted","trackProps","hideProperties","props"],"mappings":"yDAeO,MAAMA,UAAuBC,CAAU,CAOlC,YAAY,CACpB,MAAAC,EAAQC,EAAuB,EAC/B,QAAAC,EAAU,GACV,MAAAC,EAAQ,GACR,GAAGC,CACL,EAAyB,GAAI,CAC3B,MAAMA,CAAU,EAChB,KAAK,OAASJ,EACd,KAAK,QAAUE,EACf,KAAK,MAAQC,EAEbE,EAAe,KAAM,QAAQ,CAC/B,CAlBA,OAAuB,OAAOC,EAA0C,CAC/D,OAAA,IAAIR,EAAeQ,CAAK,CACjC,CAiCA,MAAa,WAAWJ,EAAiC,CACnDA,IAAY,KAAK,UACnB,KAAK,QAAUA,EACXA,EACF,KAAK,KAAK,EAEV,KAAK,KAAK,EAGhB,CAQO,UAAwD,CACvD,MAAA,IAAI,MAAM,yBAAyB,CAC3C,CASO,eAAwB,CAC7B,OAAO,KAAK,MACd,CAgBA,MAAa,SAASC,EAA+B,CACnD,KAAK,MAAQA,CACf,CAMO,OAAc,CACnB,KAAK,KAAK,CACZ,CAKF","x_google_ignoreList":[0]}