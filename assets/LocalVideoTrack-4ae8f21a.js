import{i as u,u as f,V as m}from"./styles-6070efb3.js";import{h as y,b as k,a as v}from"./TrackBoundary-32089e08.js";import{F as g}from"./local-track-014e8716.js";import{j as T}from"./jsx-runtime-1a9d9a93.js";import{r}from"./index-8b3efc3f.js";class s extends g{constructor({videoURI:e=u,...a}={}){super({...a,trackMediaType:"video"}),this._videoURI=e,y(this,"_config","_videoEl","_videoURI")}static create(e){return new s(e)}play(e,a){var o;this._config=a;const i=typeof e=="string"?document.getElementById(e):e;if(this._videoEl||(this._videoEl=document.createElement("video"),this._videoEl.style.width="100%",this._videoEl.style.height="100%",this._videoEl.loop=!0,this._videoEl.muted=!0),this._videoEl.src=this._videoURI,this._videoEl.style.objectFit=((o=this._config)==null?void 0:o.fit)||"cover",this._videoEl.style.opacity="1",i){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(this._videoEl)}this.enabled&&this._videoEl&&(this.isPlaying=!0,this._videoEl.play().catch(console.log))}stop(){this.isPlaying&&this._videoEl&&(this.isPlaying=!1,this._videoEl.style.opacity="0",this._videoEl.pause())}setEncoderConfiguration(){return Promise.resolve()}}function E({track:n,play:e,disabled:a,muted:i,style:o,videoPlayerConfig:l,...c}){const d=f(m,o),[h,p]=r.useState(null),t=k(n);return v(t,e,l,h),r.useEffect(()=>{t&&a!=null&&t.setEnabled(!a).catch(console.warn)},[a,t]),r.useEffect(()=>{t&&i!=null&&t.setMuted(i).catch(console.warn)},[i,t]),T.jsx("div",{...c,ref:p,style:d})}E.__docgenInfo={description:`This component plays the local video track using the playback device selected by the user in the browser.
@example
\`\`\`jsx
import { LocalVideoTrack, useLocalCameraTrack } from "agora-rtc-react";

function App() {
  const videoTrack = useLocalCameraTrack();
  return <LocalVideoTrack track={videoTrack} play />;
}
\`\`\``,methods:[],displayName:"LocalVideoTrack",props:{track:{required:!1,tsType:{name:"union",raw:"T | PromiseLike<T>",elements:[{name:"union",raw:"T | null | undefined",elements:[{name:"T"},{name:"null"},{name:"undefined"}]},{name:"PromiseLike",elements:[{name:"union",raw:"T | null | undefined",elements:[{name:"T"},{name:"null"},{name:"undefined"}]}],raw:"PromiseLike<T>"}]},description:'The local video track to be played. Call [`IAgoraRTC.createScreenVideoTrack`](https://api-ref.agora.io/en/video-sdk/reactjs/2.x/functions/useLocalCameraTrack.html">`useLocalCameraTrack`</a> or the Web SDK\'s <a href="https://api-ref.agora.io/en/video-sdk/web/4.x/interfaces/iagorartc.html#createscreenvideotrack) method to create a local video track.'},play:{required:!1,tsType:{name:"boolean"},description:"`true`: Play the track.`false`: Stop playing the track."},disabled:{required:!1,tsType:{name:"boolean"},description:"`true`: Disable the track. When disabled, the SDK will stop playing and publishing the track.`false`: Enable the track."},muted:{required:!1,tsType:{name:"boolean"},description:"`true`: Pause sending media data of the track.`false`: Resume sending media data of the track."},videoPlayerConfig:{required:!1,tsType:{name:"VideoPlayerConfig"},description:"Playback configurations for a video track including setting the mirror and display mode. The SDK enables mirror mode for the local video track by default. See [`VideoPlayerConfig`](https://api-ref.agora.io/en/video-sdk/web/4.x/interfaces/videoplayerconfig.html) for details."}},composes:["HTMLProps"]};export{s as F,E as L};
