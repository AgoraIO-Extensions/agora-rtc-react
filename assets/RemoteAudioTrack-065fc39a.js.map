{"version":3,"file":"RemoteAudioTrack-065fc39a.js","sources":["../../src/components/RemoteAudioTrack.tsx"],"sourcesContent":["import type { IRemoteAudioTrack } from \"agora-rtc-sdk-ng\";\nimport type { ReactNode } from \"react\";\nimport { useEffect } from \"react\";\n\nimport type { Nullable } from \"../misc/utils\";\n\nimport { useAutoPlayAudioTrack } from \"./TrackBoundary\";\n\nexport interface RemoteAudioTrackProps {\n  /**\n   * 要播放的远端音频轨道。详见 [IRemoteAudioTrack](https://docportal.shengwang.cn/cn/live-streaming-premium-4.x/API%20Reference/web_ng/interfaces/iremoteaudiotrack.html)。\n   */\n  readonly track?: Nullable<IRemoteAudioTrack>;\n\n  /**\n   * `true`：播放该轨道。`false`：停止播放该轨道。\n   */\n  readonly play?: boolean;\n\n  /**\n   * 要使用的播放设备 ID，例如扬声器。设备 ID 通过 [getPlaybackDevices](https://docportal.shengwang.cn/cn/live-streaming-premium-4.x/API%20Reference/web_ng/interfaces/iagorartc.html#getplaybackdevices) 获取。该属性仅支持桌面端的 Chrome 浏览器，在其它浏览器上修改该属性的值将会抛出 `NOT_SUPPORTED` 错误。\n   */\n  readonly playbackDeviceId?: string;\n\n  /**\n   * 音量大小。取值范围 [0, 100]，0 代表静音，100 代表原始音量。\n   */\n  readonly volume?: number;\n\n  /**\n   * 需要展示的 React 节点。\n   */\n  readonly children?: ReactNode;\n}\n\n/**\n * 该组件用于播放远端用户的音频轨道，并且支持指定播放设备。\n */\nexport function RemoteAudioTrack({\n  track,\n  play = false,\n  playbackDeviceId,\n  volume,\n  children,\n}: RemoteAudioTrackProps) {\n  useAutoPlayAudioTrack(track, play);\n\n  useEffect(() => {\n    if (track && playbackDeviceId != null) {\n      track.setPlaybackDevice(playbackDeviceId).catch(console.warn);\n    }\n  }, [track, playbackDeviceId]);\n\n  useEffect(() => {\n    if (track && volume != null) {\n      track.setVolume(volume);\n    }\n  }, [track, volume]);\n\n  return children ? <>{children}</> : null;\n}\n"],"names":["RemoteAudioTrack","track","play","playbackDeviceId","volume","children","useAutoPlayAudioTrack","useEffect","jsx","Fragment"],"mappings":"sIAsCA,SAAAA,EAAA,CACA,MAAAC,EACA,KAAAC,EAAA,GACA,iBAAAC,EACA,OAAAC,EACA,SAAAC,CACA,EAAA,CACA,OAAAC,EAAAL,EAAAC,CAAA,EAEAK,EAAAA,UAAA,IAAA,CACAN,GAAAE,GAAA,MACAF,EAAA,kBAAAE,CAAA,EAAA,MAAA,QAAA,IAAA,CACA,EACA,CAAAF,EAAAE,CAAA,CAAA,EAEAI,EAAAA,UAAA,IAAA,CACAN,GAAAG,GAAA,MACAH,EAAA,UAAAG,CAAA,CACA,EACA,CAAAH,EAAAG,CAAA,CAAA,EAEAC,EAAAG,EAAAA,IAAAC,EAAAA,SAAA,CAAA,SAAAJ,CAAA,CAAA,EAAA,IACA"}