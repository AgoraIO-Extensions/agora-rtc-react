import{i as p,u,V as m}from"./styles-87cce120.js";import{h as f,b as k,a as v}from"./TrackBoundary-97d9068a.js";import{F as y}from"./local-track-3afbd068.js";import{j as T}from"./jsx-runtime-ffb262ed.js";import{r as s}from"./index-76fb7be0.js";class r extends y{constructor({videoURI:e=p,...a}={}){super({...a,trackMediaType:"video"}),this._videoURI=e,f(this,"_config","_videoEl","_videoURI")}static create(e){return new r(e)}play(e,a){var o;this._config=a;const t=typeof e=="string"?document.getElementById(e):e;if(this._videoEl||(this._videoEl=document.createElement("video"),this._videoEl.style.width="100%",this._videoEl.style.height="100%",this._videoEl.loop=!0,this._videoEl.muted=!0),this._videoEl.src=this._videoURI,this._videoEl.style.objectFit=((o=this._config)==null?void 0:o.fit)||"cover",this._videoEl.style.opacity="1",t){for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(this._videoEl)}this.enabled&&this._videoEl&&(this.isPlaying=!0,this._videoEl.play().catch(console.log))}stop(){this.isPlaying&&this._videoEl&&(this.isPlaying=!1,this._videoEl.style.opacity="0",this._videoEl.pause())}setEncoderConfiguration(){return Promise.resolve()}}function g({track:n,play:e,disabled:a,muted:t,style:o,...l}){const c=u(m,o),[d,h]=s.useState(null),i=k(n);return v(i,e,d),s.useEffect(()=>{i&&a!=null&&i.setEnabled(!a).catch(console.warn)},[a,i]),s.useEffect(()=>{i&&t!=null&&i.setMuted(t).catch(console.warn)},[t,i]),T.jsx("div",{...l,ref:h,style:c})}g.__docgenInfo={description:`This component plays the local video track using the playback device selected by the user in the browser.
@example
\`\`\`jsx
import { LocalVideoTrack, useLocalCameraTrack } from "agora-rtc-react";

function App() {
  const videoTrack = useLocalCameraTrack();
  return <LocalVideoTrack track={videoTrack} play />;
}
\`\`\``,methods:[],displayName:"LocalVideoTrack",props:{track:{required:!1,tsType:{name:"union",raw:"T | PromiseLike<T>",elements:[{name:"union",raw:"T | null | undefined",elements:[{name:"T"},{name:"null"},{name:"undefined"}]},{name:"PromiseLike",elements:[{name:"union",raw:"T | null | undefined",elements:[{name:"T"},{name:"null"},{name:"undefined"}]}],raw:"PromiseLike<T>"}]},description:'The local video track to be played. Call [`IAgoraRTC.createScreenVideoTrack`](https://api-ref.agora.io/en/video-sdk/reactjs/2.x/functions/useLocalCameraTrack.html">`useLocalCameraTrack`</a> or the Web SDK\'s <a href="https://api-ref.agora.io/en/video-sdk/web/4.x/interfaces/iagorartc.html#createscreenvideotrack) method to create a local video track.'},play:{required:!1,tsType:{name:"boolean"},description:"`true`: Play the track.`false`: Stop playing the track."},disabled:{required:!1,tsType:{name:"boolean"},description:"`true`: Disable the track. When disabled, the SDK will stop playing and publishing the track.`false`: Enable the track."},muted:{required:!1,tsType:{name:"boolean"},description:"`true`: Pause sending media data of the track.`false`: Resume sending media data of the track."}},composes:["HTMLProps"]};export{r as F,g as L};
//# sourceMappingURL=LocalVideoTrack-8cb5f6c3.js.map
